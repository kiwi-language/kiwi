import org.metavm.api.Index;

class Product {

    private static Index<string, Product> nameIdx;

    private static Index<string, Product> __nameIdx__() {
        return new Index<string, Product>("nameIdx", true, (Product p) : string -> {
            return p.getName();
        });
    }


    private string name;

    public Product(string name) {
        this.name = name;
    }

    public string getName() {
        return this.name;
    }

}

@Component
class ProductService {

    public ProductService() {}

    public Product|null findByName(string name) {
        return Product.nameIdx.getFirst(name);
    }

}