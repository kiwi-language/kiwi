import java.util.List;
import java.util.ArrayList;
import org.metavm.api.ChildList;

class Child {
    private string name;
    private Child|null next;

    public Child(string name) {
        this.name = name;
        this.next = null;
    }

    public string getName() {
        return this.name;
    }

    public Child|null getNext() {
        return this.next;
    }

    public void setNext(Child|null next) {
        this.next = next;
    }

}

class Parent {

    private readonly child ChildList<Child> children;

    public Parent() {
        this.children = new ChildList<Child>();
        this.children.add(new Child("child001"));
    }

    public List<Child> getChildren() {
        return unew ArrayList<Child>(this.children);
    }

    public void test() {
        var child1 = this.children.get(0);
        var child2 = new Child("Child002");
        child2.setNext(child1);
        this.children.add(child2);
        this.children.clear();
    }

    public void test2() {
        var child2 = new Child("Child002");
        var child3 = new Child("Child003");
        child2.setNext(child3);
        this.children.add(child2);
        this.children.add(child3);
        this.children.remove(child3);
    }

}