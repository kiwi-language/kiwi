class Product extends Versioned {

    index IdxName {
        name: this.name;
    }

    public static Product|null findByName(string name) {
        found: selectFirst(Product.IdxName, name);
        return found;
    }

    private title string name;
    private double price;
    private child Inventory inventory;
    private boolean available;
    private string|null description;
    private any manufacturer;

    public Product(string name, double price, Inventory inventory, string|null description, any manufacturer) {
        super();
        this.name = name;
        this.price = price;
        this.inventory = inventory;
        this.description = description;
        this.manufacturer = manufacturer;
    }

    public string getName() {
        return this.name;
    }

    public void setName(string name) {
        this.name = name;
    }

    public double getPrice() {
        return this.price;
    }

    public void setPrice(double price) {
        this.price = price;
    }

    public Inventory getInventory() {
        return this.inventory;
    }

    public void setInventory(Inventory inventory) {
        this.inventory = inventory;
    }

    public boolean isAvailable() {
        return this.available;
    }

    public void setAvailable(boolean available) {
        this.available = available;
    }

    public string|null getDescription() {
        return this.description;
    }

    public void setDescription(string|null description) {
        this.description= description;
    }

    private boolean __available__() {
        return true;
    }

    private double __price__(int price) {
        r: (double) price;
        return r;
    }

    private Versioned __Versioned__() {
        v: new Versioned();
        return v;
    }

    public any getManufacturer() {
        return this.manufacturer;
    }

    public void setManufacturer(any manufacturer) {
        this.manufacturer = manufacturer;
    }

}

class Inventory {
    private int quantity;

    public Inventory(int quantity) {
        this.quantity = quantity;
    }

    public int getQuantity() {
        return this.quantity;
    }

    public void setQuantity(int quantity) {
        this.quantity = quantity;
    }

}

class Versioned {

    private Version version;

    public Versioned() {
        v: new Version(0, 0);
        this.version = v;
    }

    public Version getVersion() {
        return this.version;
    }

    public void setVersion(Version version) {
        this.version = version;
    }

}

record Version {
    private readonly int majorVersion;
    private readonly int minorVersion;

    public Version(int majorVersion, int minorVersion) {
        this.majorVersion = majorVersion;
        this.minorVersion = minorVersion;
    }

    public int getMajorVersion() {
        return this.majorVersion;
    }

    public int getMinorVersion() {
        return this.minorVersion;
    }

}

class Box<T> {
    private T item;
    private int count;

    public Box(T item, int count) {
        this.item = item;
        this.count = count;
    }

    public T getItem() {
        return this.item;
    }

    public void setItem(T item) {
        this.item = item;
    }

    public int getCount() {
        return this.count;
    }

    public void setCount(int count) {
        this.count = count;
    }

    private int __count__() {
        return 1;
    }

}
