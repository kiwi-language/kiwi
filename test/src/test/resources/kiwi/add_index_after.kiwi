import org.metavm.api.Index

class Product {

    priv static var nameIdx = Index<string, Product>(true, p -> p.name)

    priv var name: string

    init(name: string) {
        this.name = name
    }

    fn getName() -> string {
        return this.name
    }

}

@Component
class ProductService {

    fn  findByName(name: string) -> Product|null {
        return Product.nameIdx.getFirst(name)
    }

}