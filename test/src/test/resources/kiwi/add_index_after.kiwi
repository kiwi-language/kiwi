import org.metavm.api.Index

class Product(priv var name: string) {

    priv static var nameIdx = Index<string, Product>(true, p -> p.name)

    fn getName() -> string {
        return this.name
    }

}

@Component
class ProductService {

    fn  findByName(name: string) -> Product|null {
        return Product.nameIdx.getFirst(name)
    }

}